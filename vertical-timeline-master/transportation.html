<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script>document.getElementsByTagName("html")[0].className += " js";</script>
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href='assets/css/stylesheet.css'>


  <!-- <link rel="stylesheet" href="examples.css" type="text/css"> -->
  <script src='assets/js/index.js'></script>
	<script type="text/javascript" src="jquery.min.js"></script>
  <script type="text/javascript" src="ScrollMagic.js"></script>
  <script src="https://d3js.org/d3.v4.min.js"></script>


  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <script src="./dashboard_files/bundle.js"></script>
  
	<!-- <script type="text/javascript" src="debug.addIndicators.js"></script> -->


</head>



<style>
    .container2 {
      position: relative;
      width: 100%;
      text-align: center;
      color: white;
    }

    .container2 img {
    /* -webkit-filter: grayscale(100%);
    filter: grayscale(50%); */
    filter: brightness(50%);;
  }
    
    .centered {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 60px;
      font-style: oblique;
      font-weight: 900;
    }

    .populationBlock{
        width: 90%;
        height: 90%;
        display: flex;
        flex-flow: wrap;
    }

    .populationBlock_top{
        width: 90%;
        height: 90%;
        display: flex;
        flex-flow: wrap;
    }

    .personIcon{
        height: 30%;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 120%;
        color: white;
    }

    .personIcon_top{
        height: 30%;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 120%;
        color: white;
    }

    .personContainer{
        height: 2.4vw;
        width: 2.4vw;
        margin: 0px;
    }

    .charts {
        font-size: 0;
        margin-left: -12px;
      }
      .charts-placeholder {
        text-align: center;
        height: 1200px;
        padding-top: 48px;
      }
      .data-date.placeholder { opacity: 0; }
      .chart-outer-container {
        display: inline-block;
        width: 100vw;
        margin-bottom: 16px;
      }
      .chart-inner-container {
        position: relative;
        width: 100%;
        height: 0;
        padding-bottom: 100%;
      }
      .chart {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        box-shadow: 1px 1px 4px 0px #b0b0b0;
      }
      @media (min-width: 524px) {
        /* body {
          width: 500px;
          margin: 12px auto 48px;
        } */
        .charts { margin-left: -8px; }
        .chart-outer-container {
          width: 484px;
          padding: 8px;
          margin-bottom: 0px;
        }
        .chart {
          border: 1px solid #ccc;
          border-radius: 4px;
        }
      }
      /* @media (min-width: 1024px) {
        body { width: 1000px; }
      } */
      @media (min-width: 1524px) {
        body { width: 1500px; }
      }
      @media (min-width: 2024px) {
        body { width: 2000px; }
      }
  </style>


<body>



  <div style="text-align: center;">

    <div class="landerPage">
 
        <div class="titleText">Curbed</div>
        <div class="subtitleText">How Uber's Rise to Power Killed the Taxi Industry</div>
        <div style='font-size: 25px;' class="subtitleText">(and what could be coming next)</div>
    
      </div>
    
      <div class='introPanel'>
        
      </div>
    
      <div class='introPanel'>

          <style> /* set the CSS */

              .bar { fill: steelblue; }
              
              .graphParent{
                  height: 100%;
                  width: 80%;
                  margin-left: 10%;
                  background: pink;
              }
              
              </style>
              
              
                  <div class='graphParent'>
              
                  </div>
          <script>
          
          // set the dimensions and margins of the graph
          var margin = {top: 20, right: 20, bottom: 30, left:100},
              width = 960 - margin.left - margin.right,
              height = 500 - margin.top - margin.bottom;
          
          // set the ranges
          var x = d3.scaleBand()
                    .range([0, width])
                    .padding(0.1);
          var y = d3.scaleLinear()
                    .range([height, 0]);
                    
          // append the svg object to the body of the page
          // append a 'group' element to 'svg'
          // moves the 'group' element to the top left margin
          var svg = d3.select("div.graphParent").append("svg")
              .attr("width", width + margin.left + margin.right)
              .attr("height", height + margin.top + margin.bottom)
            .append("g")
              .attr("transform", 
                    "translate(" + margin.left + "," + margin.top + ")");
          
          // get the data
          d3.csv("medallionPrice.csv", function(error, data) {
            if (error) throw error;
          
            // format the data
            data.forEach(function(d) {
              d.sales = +d.sales;
            });
          
            // Scale the range of the data in the domains
            x.domain(data.map(function(d) { return d.salesperson; }));
            y.domain([0,1000000]);
          
            // append the rectangles for the bar chart
            svg.selectAll(".bar")
                .data(data)
              .enter().append("rect")
                .attr("class", "bar")
                .attr("x", function(d) { return x(d.salesperson); })
                .attr("width", x.bandwidth())
                .attr("y", function(d) { return y(d.sales); })
                .attr("height", function(d) { return height - y(d.sales); });
          
            // add the x Axis
            svg.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(d3.axisBottom(x));
          
            // add the y Axis
            svg.append("g")
                .call(d3.axisLeft(y));
          
          });
          
          </script>
      </div>

    

    <div class="charts" style="float: left;  margin-left: 4%;">
    </div>

    <div style="margin-bottom: 50px;">
      <!-- <img src="fakeppl.png" style="width: 30%;"> -->

      <!-- color -->
      <div style="display: inline-block; margin-top: 7px; width: 55%; background-color: #E8EFF5; height: 467px; box-shadow: 1px 1px 4px 0px #b0b0b0; 
      border: 1px solid #ccc; border-radius: 4px;"> 
      <h4 style="text-align: center; margin-top: 20px; color: black;">100 Yellow Cab Drivers</h4>
      <h5 style="text-align: center; font-style: italic;"><span style="color: yellow; font-weight: 900;">Yellow-cab</span> vs. <span style="color: whitesmoke; font-weight: 900;">Uber</span> vs. <span style="color: red; font-weight: 900;">Unemployed</span></h5>

      <figure id='mainPopulationBlock_top' >
          <div id='populationBlock_top' class='populationBlock_top' style="margin: 5%; outline: black solid 1px; padding-top: 15px; padding-left: 10px;">
            <!-- <img src="fakeppl.png" style="width:95%; margin-top: -10px;"> -->
          </div>
      </figure>
      <br>
      
      <input type="range" name="year" min="2010" max="2019" value="2010">
      <span>Year </span><output></output>
      
      <p style="color: black; font-style: italic; font-size: 13px;">
          <br>Slide bar to see change over time
      </p>
      <br><br>

    </div>



    </div>

    
    

    <script type="text/javascript">
      'use strict';

      $(function() {
        Highcharts.setOptions({
          chart: {
            backgroundColor: '#fcfcfc',
            events: {
              load: function() {
                this.credits.element.onclick = function() {
                  return false;
                },
                this.credits.element.ontouchstart = function() {
                  return false;
                }
              }
            },
            style: {fontFamily: "'IBM Plex Mono', monospace"},
            type: 'line'
          },
          credits: {
            href: '#',
            position: {y: -20},
            style: {fontSize: '9px'},
            text: 'Data via NYC TLC<br/>toddwschneider.com'
          },
          lang: {thousandsSep: ','},
          plotOptions: {
            area: {
              animation: false,
              marker: {enabled: false}
            },
            line: {
              animation: false,
              marker: {enabled: false}
            },
            series: {
              label: {
                connectorAllowed: true,
                style: {
                  fontSize: '12px',
                  fontWeight: 'regular'
                }
              }
            }
          },
          responsive: {
            rules: [{
              condition: {maxWidth: 10},
              chartOptions: {
                legend: {
                  margin: 4,
                  y: -14
                },
                title: {style: {fontSize: '18px'}},
                tooltip: {split: false}
              }
            }]
          },
          time: {useUTC: true},
          title: {style: {fontSize: '24px'}},
          tooltip: {
            dateTimeLabelFormats: {day: '%b %Y'},
            pointFormat: '<span style="color: {point.color}">\u25CF</span> {series.name}: {point.y}<br/>',
            split: true,
            valueDecimals: 0
          },
          xAxis: {
            labels: {
              padding: 10,
              style: {fontSize: '12px'}
            },
            type: 'datetime'
          },
          yAxis: {
            labels: {style: {fontSize: '12px'}},
            min: 0,
            title: {text: null}
          }
        });

        var percentTooltipFormat = '<span style="color: {point.color}">\u25CF</span> {series.name}: {point.y}%<br/>'
        var dollarTooltipFormat = '<span style="color: {point.color}">\u25CF</span> {series.name}: ${point.y}<br/>'

        var colors = {
          yellow: '#f7b731',
          green: '#3f9e4d',
          fhv_high_volume: '#153e67',
          fhv_black_car: '#444444',
          fhv_livery: '#888888',
          fhv_lux_limo: '#aaaaaa',
          uber: '#000000',
          lyft: '#ff00bf',
          juno: '#29509f',
          via: '#1fb7e9',
          gett: '#fdb924'
        };

        var names = {
          yellow: 'Yellow taxi',
          green: 'Green taxi',
          fhv_high_volume: 'Ridehailing apps',
          fhv_black_car: 'Black car',
          fhv_livery: 'Livery car',
          fhv_lux_limo: 'Limo',
          uber: 'Uber',
          lyft: 'Lyft',
          juno: 'Juno',
          via: 'Via',
          gett: 'Gett'
        };

        var carTypes = {
          ridehailing: ['uber', 'lyft', 'juno', 'via'],
          taxi: ['yellow', 'green'],
          tlc: ['yellow', 'green', 'fhv_high_volume', 'fhv_livery'],
          tlc_shared: ['fhv_high_volume']
        };

        var $charts = $('.charts');

        var dataUrl = 'https://taxi.toddwschneider.com/dashboard_data.json';
        $.getJSON(dataUrl).then(function(data) {
          updateText(data);
          $('.charts-placeholder').remove();
          drawAllGraphs(data);
        });

        $('#filters').on('change', function() {
          var val = $(this).val();
          if (val === 'all') {
            $('.chart-outer-container').fadeIn();
          } else {
            $('.chart-outer-container.' + val).fadeIn();
            $('.chart-outer-container:not(.' + val + ')').fadeOut();
          }
        });

        function updateText(data) {
          var dataUpdatedText = [
            'Data available by license class through <b>',
            data.tlc_date,
            '</b>, by ridehailing app through <b>',
            data.fhv_date,
            '</b>'
          ].join('');

          $('.data-date').html(dataUpdatedText).removeClass('placeholder');
        }

        function drawAllGraphs(data) {
          drawGraph(data, 'tlc', 'unique_drivers', 'Unique drivers per month');
        }

        function drawGraph(data, carCategory, field, title, extraOptions) {
          var chartId = carCategory + '-' + field;
          if (extraOptions && extraOptions.chart) {
            chartId = chartId + '-' + extraOptions.chart.type;
          }
          var wrapperClass = carCategory === 'tlc_shared' ? 'tlc' : carCategory;
          var chartHtml = '<div class="chart-outer-container ' + wrapperClass + '"><div class="chart-inner-container"><div class="chart" id="' + chartId + '"></div></div></div>';

          $charts.append(chartHtml);

          var seriesData = carTypes[carCategory].map(function(carType) {
            return {
              name: names[carType],
              color: colors[carType],
              data: zipArrays(
                data[carType].month,
                data[carType][field]
              )
            };
          });
          if (extraOptions && extraOptions.chart) {
            seriesData = seriesData.reverse();
          }

          Highcharts.chart(
            chartId,
            $.extend({
              title: {text: title},
              series: seriesData
            }, extraOptions)
          );
        }

        function zipArrays(a1, a2) {
          return a1.map(function(e, i) {
            return [e, a2[i]];
          });
        }
      });
    </script>

  </div>
  




  <div style="width: 98%; margin-left: 1%;">
  <div style="float: left; width:70%;">
  <section class="cd-timeline js-cd-timeline">
    <div class="container max-width-lg cd-timeline__container">
      <div class="cd-timeline__block">
        <div class="cd-timeline__img cd-timeline__img--picture">
          <img src="assets/img/cd-icon-picture.svg" alt="Picture">
        </div> <!-- cd-timeline__img -->

        <div class="cd-timeline__content text-component">
            <div class="flex justify-between items-center">
              <span class="cd-timeline__date">Apr 2019</span>
            </div>
          <h2>Uber goes Live in New York City</h2>
          <p class="color-contrast-medium">
              Uber starts operation in NYC despite heavy pushback from the traditional taxi industry.<br><br>
              Users do not have to talk to a dispatcher to request a vehicle. The smartphone app provides quote for the trip.
          </p>
          <img src="images/uniquedriverspermonth.png" style="width: 70%;">
          
        </div> <!-- cd-timeline__content -->
      </div> <!-- cd-timeline__block -->

      <div class="cd-timeline__block">
        <div class="cd-timeline__img cd-timeline__img--movie">
          <img src="assets/img/cd-icon-movie.svg" alt="Movie">
        </div> <!-- cd-timeline__img -->

        <div class="cd-timeline__content text-component">
          <div class="flex justify-between items-center">
            <span class="cd-timeline__date">Dec 2020</span>
          </div>
          <h2>Shrinking Demand for Truck Drivers: 60k Drivers Out Of Work</h2>
          <p class="color-contrast-medium">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iusto, optio, dolorum provident rerum aut hic quasi placeat iure tempora laudantium ipsa ad debitis unde?</p>
          <img src="images/onedriver.jpg">

          <button>Pedestrian Killed in Accident</button> <button>Uber succesfully tests Level 5</button>
          
        </div> <!-- cd-timeline__content -->
      </div> <!-- cd-timeline__block -->



      <div class="cd-timeline__block">
          <div class="cd-timeline__img cd-timeline__img--location">
            <img src="assets/img/cd-icon-location.svg" alt="Location">
          </div> <!-- cd-timeline__img -->
  
          <div class="cd-timeline__content text-component">
            <div class="flex justify-between items-center">
              <span class="cd-timeline__date">Apr 2021</span>
            </div>
            <h2>Trucking Goes Fully Autonomous</h2>
            <p class="color-contrast-medium">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iusto, optio, dolorum provident rerum.</p>
            <img src="images/autonomoustruck.jpg">
          </div> <!-- cd-timeline__content -->
        </div> <!-- cd-timeline__block -->

      <div class="cd-timeline__block">
        <div class="cd-timeline__img cd-timeline__img--picture">
          <img src="assets/img/cd-icon-picture.svg" alt="Picture">
        </div> <!-- cd-timeline__img -->

        <div class="cd-timeline__content text-component">
          <div class="flex justify-between items-center">
            <span class="cd-timeline__date">Mar 2021</span>
          </div>
          <h2>Uber launches Level 5 Autonomous Vehicle Ride Service</h2>
          <p class="color-contrast-medium">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Excepturi, obcaecati, quisquam id molestias eaque asperiores voluptatibus cupiditate error assumenda delectus odit similique earum voluptatem doloremque dolorem ipsam quae rerum quis.</p>
          <img src="images/driverlessuber.jpg">
          
        </div> <!-- cd-timeline__content -->
      </div> <!-- cd-timeline__block -->

      <div class="cd-timeline__block">
        <div class="cd-timeline__img cd-timeline__img--location">
          <img src="assets/img/cd-icon-location.svg" alt="Location">
        </div> <!-- cd-timeline__img -->

        <div class="cd-timeline__content text-component">
          <div class="flex justify-between items-center">
            <span class="cd-timeline__date">Nov 2022</span>
          </div>
          <h2>Level 5 Autonomous Vehicles For Consumers Finally Debut</h2>
          <p class="color-contrast-medium">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iusto, optio, dolorum provident rerum aut hic quasi placeat iure tempora laudantium ipsa ad debitis unde? Iste voluptatibus minus veritatis qui ut.</p>
          <img src="images/fulllyautonomous.jpg">
          
        </div> <!-- cd-timeline__content -->
      </div> <!-- cd-timeline__block -->

      

      <div class="cd-timeline__block">
        <div class="cd-timeline__img cd-timeline__img--movie">
          <img src="assets/img/cd-icon-movie.svg" alt="Movie">
        </div> <!-- cd-timeline__img -->

        <div class="cd-timeline__content text-component">
          <div class="flex justify-between items-center">
            <span class="cd-timeline__date">Aug 2023</span>
          </div>
          <h2>California Prohibits Passenger Driving On HighWays</h2>
          <p class="color-contrast-medium">This is the content of the last section</p>

        </div> <!-- cd-timeline__content -->
      </div>
    </div>
    <a href="intro.html" class="btn btn--subtle" style="margin-top: 5%; margin-left: 39%;">Choose Different Industry</a>

  </section> <!-- cd-timeline -->
  </div>




<!--  -->
  <div style="float: left; width:30%; outline: white solid 3px;">

    <div style="margin-left: 2%; margin-right: 2%; background-color: black">
        <section id="titlechart">
            <div id="description">
            </div>
            <script>
              // init controller
              var controller = new ScrollMagic.Controller();
            </script>
          </section>
          <section class="demo">
              
            <div class="spacer s2" style="height: 309px;"></div>
            <div id="trigger1" class="spacer s0"></div>
            <div id="pin1" style="padding-bottom: 50px; margin-top: -309px;">

            <h4 style="text-align: center; margin-top: 20px; color: white;">100 Yellow Cab Drivers</h4>
            <h5 style="text-align: center; font-style: italic;"><span style="color: yellow; font-weight: 900;">Yellow-cab</span> vs. <span style="color: whitesmoke; font-weight: 900;">Uber</span> vs. <span style="color: red; font-weight: 900;">Unemployed</span></h5>

            <figure id='mainPopulationBlock' style="">
                <div id='populationBlock' class='populationBlock' style="margin: 5%; outline: black solid 1px; padding-top: 15px; padding-left: 10px;">
                  <img src="fakeppl.png" style="width:95%; margin-top: -10px;">
                </div>
            </figure>
                
                <!-- <img id="sonny" src="images/image1.jpg" style="height: 300px; width: 100%; border: 3px solid #E8EFF5; border-radius: 30px;" > -->
                <p id="sonnytxt" style="margin: 5%; font-size: 17px;">text</p>
            </div>
            <script>
              $(function () { // wait for document ready
                // build scene
                var scene = new ScrollMagic.Scene({triggerElement: "#trigger1", duration: 3988})
                        .setPin("#pin1")
                        .addIndicators({name: "1 (duration: 300)"}) // add indicators (requires plugin)
                        .addTo(controller);
              });
            </script>
          </section>

    </div>
  </div>
</div>

  <script id='personIconBefore' type='"text/x-lodash-template'>
      <div  class='personContainer'>
          <i style='color:yellow' class="material-icons personIcon">
                  accessibility_new
          </i>
      </div>
  </script>

  <script id='personIconAfter' type='"text/x-lodash-template'>
      <div  class='personContainer'>
          <i style='color:red' class="material-icons personIcon">
                  accessibility_new
          </i>
      </div>
  </script>

  <script id='personIconBefore_top' type='"text/x-lodash-template'>
    <div  class='personContainer'>
        <i style='color:green' class="material-icons personIcon">
                accessibility_new
        </i>
    </div>
</script>

<script id='personIconAfter_top' type='"text/x-lodash-template'>
  <div  class='personContainer'>
      <i style='color:red' class="material-icons personIcon">
              accessibility_new
      </i>
  </div>
</script>

  <script src="assets/js/main.js"></script>

</body>
</html>